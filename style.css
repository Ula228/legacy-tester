body {
  background: #121212;
  color: #f5f5f5;
  font-family: 'Georgia', serif;
  margin: 0;
  padding: 0;
}

header {
  background-color: #000;
  padding: 2rem;
  text-align: center;
  border-bottom: 2px solid #d4af37;
}

header h1 {
  color: #d4af37;
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}

.container {
  padding: 2rem;
  max-width: 900px;
  margin: auto;
}

.quiz-card {
  background-color: #1e1e1e;
  border: 1px solid #444;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1rem;
}

.quiz-card h2 {
  color: #d4af37;
}

.btn {
  background-color: #d4af37;
  color: #111;
  border: none;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  border-radius: 8px;
  cursor: pointer;
  display: inline-block;
  margin: 0.5rem 0;
}

.btn:disabled {
  opacity: 0.5;
  cursor: default;
}

.btn:hover:enabled {
  background-color: #c19e34;
}

.option {
  margin-top: 0.5rem;
  padding: 0.6rem;
  background: #2c2c2c;
  border-radius: 6px;
  cursor: pointer;
  border: 1px solid #333;
}

.option:hover {
  background: #3c3c3c;
}

table {
  width: 100%;
  border-collapse: collapse;
}

td {
  padding: 0.5rem;
  border-bottom: 1px solid #555;
}

h2 {
  margin-top: 2rem;
  color: #d4af37;
}


/* ================= script.js ================= */
let menu = [];
let current = {};
let score = 0;
let questionCount = 0;
const totalQuestions = 10;

async function loadMenu() {
  try {
    const res = await fetch('legacy_menu.json');
    menu = await res.json();
    nextQuestion();
  } catch (e) {
    document.getElementById("question").textContent = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é";
  }
}

function nextQuestion() {
  if (questionCount >= totalQuestions) {
    document.getElementById("question").textContent = `–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω. ${score}/${totalQuestions} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö.`;
    document.getElementById("options").innerHTML = score >= 7
      ? "üé© –£–≤–∞–∂–µ–Ω–∏–µ. –¢—ã –∑–Ω–∞–µ—à—å –º–µ–Ω—é, –∫–∞–∫ –î–æ–Ω –∑–Ω–∞–µ—Ç —Å–µ–º—å—é."
      : "‚ùå –¢—ã –ø–æ–¥–≤—ë–ª —Å–µ–º—å—é. –ü–æ–≤—Ç–æ—Ä–∏ –µ—â—ë —Ä–∞–∑.";
    document.getElementById("nextBtn").disabled = true;
    return;
  }

  document.getElementById("nextBtn").disabled = true;
  const questionEl = document.getElementById("question");
  const optionsEl = document.getElementById("options");
  const scoreEl = document.getElementById("score");

  current = menu[Math.floor(Math.random() * menu.length)];
  let prices = [current.price];

  while (prices.length < 4) {
    let fake = menu[Math.floor(Math.random() * menu.length)].price;
    if (!prices.includes(fake)) prices.push(fake);
  }

  prices = prices.sort(() => Math.random() - 0.5);

  questionEl.textContent = `–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –±–ª—é–¥–æ: \"${current.name}\"?`;
  scoreEl.textContent = `–í–æ–ø—Ä–æ—Å ${questionCount + 1} –∏–∑ ${totalQuestions}`;

  optionsEl.innerHTML = '';
  prices.forEach(price => {
    const div = document.createElement('div');
    div.className = 'option';
    div.textContent = `${price} ‚Ç∏`;
    div.onclick = () => selectAnswer(price, div);
    optionsEl.appendChild(div);
  });
}

function selectAnswer(selectedPrice, el) {
  const options = document.querySelectorAll(".option");
  options.forEach(option => option.onclick = null);

  options.forEach(option => {
    const val = parseInt(option.textContent);
    if (val === current.price) option.style.background = '#1d6b1d';
    else if (val === selectedPrice) option.style.background = '#6b1d1d';
  });

  if (selectedPrice === current.price) score++;
  questionCount++;
  document.getElementById("nextBtn").disabled = false;
}

window.onload = loadMenu;
